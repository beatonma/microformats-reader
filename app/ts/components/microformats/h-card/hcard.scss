@use "styles";
@use "styles/animation";
@use "./hcard-avatar";

%hcard-text-large {
    font-size: var(--fs-h1);
}

%hcard-text-medium {
    font-size: var(--fs-default);
}

%hcard-text-small {
    font-size: var(--fs-100);
}

button#hcard_toggle_detail {
    @extend %hover;
    display: block;
    width: stretch;
    font-size: var(--fs-500);
    cursor: pointer;

    .dropdown-icon {
        margin: 0;
        cursor: pointer;
        &:hover {
            background: none;
        }
    }
}

.h-card {
    padding: var(--space-1x);

    .p-name {
        @extend %hcard-text-large;
    }

    .banner {
        // Avatar + summary
        position: relative;
        align-items: start;
    }

    .dropdown-header {
        font-size: var(--fs-200);
        line-height: 1.5;
    }
}

.hcard-summary,
.hcard-detail {
    animation-duration: animation.$duration-long;
    animation-fill-mode: both;
    animation-timing-function: ease-in-out;

    &[data-closing="false"][data-visible="false"] {
        display: none;
    }
}
.hcard-summary {
    &[data-visible="true"] {
        animation-name: expandSummary;
    }

    &[data-closing="true"] {
        animation-name: collapseSummary;
    }
}

.hcard-detail {
    &[data-visible="true"] {
        animation-name: expandDetail;
    }

    &[data-closing="true"] {
        animation-name: collapseDetail;
    }
}

@keyframes collapseSummary {
    0% {
        @include animation.opaque;
    }
    40% {
        @include animation.transparent;
    }
    100% {
        @include animation.transparent;
        @include animation.zero-width;
        @include animation.zero-height;
    }
}

@keyframes expandSummary {
    0% {
        @include animation.transparent;
        @include animation.zero-width;
        @include animation.zero-height;
    }
    60% {
        @include animation.transparent;
    }
    100% {
        @include animation.opaque;
    }
}

@keyframes collapseDetail {
    0% {
        @include animation.opaque;
    }
    40% {
        @include animation.transparent;
    }
    100% {
        @include animation.transparent;
        @include animation.zero-height;
    }
}
@keyframes expandDetail {
    0% {
        @include animation.transparent;
        @include animation.zero-height;
    }
    60% {
        @include animation.transparent;
    }
    100% {
        @include animation.opaque;
    }
}
